{"version":3,"sources":["../scripts/app.js","../scripts/Config.js","../scripts/MapSearchCtrl.js","../scripts/MapService.js","../scripts/SocketService.js","../scripts/TwitterCtrl.js","../scripts/TwitterService.js"],"names":["mapApp","angular","module","controller","$scope","$http","$rootScope","MapService","socket","TwitterService","config","data","randomColor","version","mapboxgl","accessToken","map","Map","container","style","center","zoom","addControl","Navigation","position","on","response","$apply","Math","floor","random","toString","length","geojson","createTweetGeoJSON","statuses","filterGeoJSON","getSource","sourceObj","GeoJSONSource","addSource","features","setData","allTweets","$broadcast","layerFilter","createLayerFilter","addLayer","id","type","source","interactive","layout","visibility","paint","circle-color","circle-blur ","circle-radius","circle-opacity","filter","err","console","log","e","featuresAt","point","layer","radius","getCanvas","cursor","layers","includeGeometry","html","Object","keys","properties","forEach","key","Popup","setLngLat","geometry","coordinates","setText","text","addTo","constant","gl-accessToken","openCage-key","$q","searchQuery","googleResults","goToLocation","obj","flyTo","getTweetsForLocation","hideResults","changeSearchText","getGoogleSearchData","googleGeocode","then","res","getOpenCageSearchData","openCageGeocode","openCageResults","service","query","deferred","defer","url","encodeURI","get","cache","error","reject","resolve","promise","io","connect","eventName","callback","emit","$templateCache","$mdToast","$mdSidenav","timeLine","tweets","activeChapterName","$on","event","open","getFlyToDict","showSimpleToast","toggleTimeline","show","simple","textContent","hideDelay","flyToTweet","tweet","_","find","v","selectedTweet","sortTweetsByMostRecent","sort","a","b","timestamp_ms","arr","geoj","o","push","newdata","org","oid","n","geo","geom","req","method","JSON","stringify","headers","Content-Type","success","status","dict","bearing","pitch","curve","speed"],"mappings":"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","file":"gl-live-tweets.min.js"}